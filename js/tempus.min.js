/*! tempus 0.1.31 Kuznetsov Aleksey <me@akuzn.com> 2013-11-16 */
!function(a,b){function c(){}var d,e=a.tempus,f="0.2.0",g="en",h={en:{monthShortNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthLongNames:["January","February","March","April","May","June","July","August","September","October","November","December"],daysShortNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysLongNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ru:{monthShortNames:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],monthLongNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],daysShortNames:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],daysLongNames:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]}},i={"%d":{format:function(a){return m(a.day()||a.constants().MIN_DAY,2)},parse:function(a){var c=Number(a);return{day:isNaN(c)?b:c}},minLength:2,maxLength:2,type:"number"},"%m":{format:function(a){return m(a.month()||a.constants().MIN_MONTH,2)},parse:function(a){var c=Number(a);return{month:isNaN(c)?b:c}},minLength:2,maxLength:2,type:"number"},"%Y":{format:function(a){return m(a.year()||a.constants().MIN_YEAR,4)},parse:function(a){var c=Number(a);return{year:isNaN(c)?b:c}},minLength:4,maxLength:4,type:"number"},"%w":{format:function(a){return a.dayOfWeek()||a.constants().MIN_DAY_OF_WEEK},parse:function(){return{}},minLength:1,maxLength:1,type:"number"},"%a":{format:function(a){return h[g].daysShortNames[a.dayOfWeek()||a.constants().MIN_DAY_OF_WEEK]},parse:function(){return{}},minLength:1,maxLength:999,type:"word"},"%A":{format:function(a){return h[g].daysLongNames[a.dayOfWeek()||a.constants().MIN_DAY_OF_WEEK]},parse:function(){return{}},minLength:1,maxLength:999,type:"word"},"%b":{format:function(a){return h[g].monthShortNames[(a.month()||a.constants().MIN_MONTH)-(k?0:1)]},parse:function(a){var c=that.getMonthNames().indexOf(a)+1;return{month:-1!==c?c:b}},minLength:1,maxLength:999,type:"word"},"%B":{format:function(a){return h[g].monthLongNames[(a.month()||a.constants().MIN_MONTH)-(k?0:1)]},parse:function(a){var c=that.getMonthNames(!0).indexOf(a)+1;return{month:-1!==c?c:b}},minLength:1,maxLength:999,type:"word"},"%H":{format:function(a){return m(a.hours()||a.constants().MIN_HOURS,2)},parse:function(a){var c=Number(a);return{hours:isNaN(c)?b:c}},minLength:2,maxLength:2,type:"number"},"%M":{format:function(a){return m(a.minutes()||a.constants().MIN_MINUTES,2)},parse:function(a){var c=Number(a);return{minutes:isNaN(c)?b:c}},minLength:2,maxLength:2,type:"number"},"%S":{format:function(a){return m(a.seconds()||a.constants().MIN_SECONDS,2)},parse:function(a){var c=Number(a);return{seconds:isNaN(c)?b:c}},minLength:2,maxLength:2,type:"number"},"%s":{format:function(a){return a.timestamp()},parse:function(a){var b=Number(a),c=new n(Number(b),timezoneOffset),d=that.date(b);return isNaN(b)?{}:that.incDate(d,c.getTimezoneOffset(),"minutes")},minLength:1,maxLength:20,type:"number"},"%F":{format:function(a){return m(a.year()||a.constants().MIN_YEAR,4)+"-"+m(a.month()||a.constants().MIN_MONTH,2)+"-"+m(a.day()||a.constants().MIN_DAY,2)},parse:function(a){var b=Number(a.slice(0,4)),c=Number(a.slice(6,7)),d=Number(a.slice(9,10));return{year:b,month:c,day:d}},minLength:10,maxLength:10,type:"string"},"%D":{format:function(a){return m(a.month()||a.constants().MIN_MONTH,2)+"/"+m(a.day()||a.constants().MIN_DAY,2)+"/"+m(a.year()||a.constants().MIN_YEAR,4)},parse:function(a){var b=Number(a.slice(0,2)),c=Number(a.slice(3,5)),d=Number(a.slice(6,10));return{year:d,month:b,day:c}},minLength:10,maxLength:10,type:"string"}},j=!1,k=!1,l=function(a){return a%4==0?a%100==0?a%400==0:!0:!1},m=function(a,b){for(var c=a.toString();c.length<b;)c="0"+c;return c},n=function(a,b){return this._date=new Date,this._incorrect={year:!1,month:!1,day:!1,hours:!1,minutes:!1,seconds:!1,milliseconds:!1},"object"==typeof a?this.set(a):"string"==typeof a&&this.parse(a,b),this};n.prototype.constants=function(){return{MIN_YEAR:1e3,MAX_YEAR:3e3,MIN_MONTH:k?0:1,MAX_MONTH:k?11:12,MIN_DAY:1,MAX_DAY_IN_MONTHS:[31,28,31,30,31,30,31,31,30,31,30,31],MIN_DAY_OF_WEEK:0,MAX_DAY_OF_WEEK:6,MIN_HOURS:0,MAX_HOURS:23,MIN_MINUTES:0,MAX_MINUTES:59,MIN_SECONDS:0,MAX_SECONDS:59,MIN_MILLISECONDS:0,MAX_MILLISECONDS:999}},n.prototype.year=function(a){return 0===arguments.length?this._date.getFullYear():(("number"==typeof a||"string"==typeof a)&&!isNaN(Number(a))&&Number(a)>=this.constants().MIN_YEAR&&Number(a)<=this.constants().MAX_YEAR?(this._date.setFullYear(Number(a)),this._incorrect.year=!1):this._incorrect.year=Number(a),this)},n.prototype.month=function(a){return 0===arguments.length?k?this._date.getMonth():this._date.getMonth()+1:(("number"==typeof a||"string"==typeof a)&&!isNaN(Number(a))&&Number(a)>=this.constants().MIN_MONTH&&Number(a)<=this.constants().MAX_MONTH?(this._date.setMonth(k?Number(a):Number(a)-1),this._incorrect.month=!1):this._incorrect.month=Number(a),this)},n.prototype.day=function(a){return 0===arguments.length?this._date.getDate():(("number"==typeof a||"string"==typeof a)&&!isNaN(Number(a))&&Number(a)>=this.constants().MIN_DAY&&Number(a)<=this.dayCount()?(this._date.setDate(Number(a)),this._incorrect.day=!1):this._incorrect.day=Number(a),this)},n.prototype.hours=function(a){return 0===arguments.length?this._date.getHours():(("number"==typeof a||"string"==typeof a)&&!isNaN(Number(a))&&Number(a)>=this.constants().MIN_HOURS&&Number(a)<=this.constants().MAX_HOURS?(this._date.setHours(Number(a)),this._incorrect.hours=!1):this._incorrect.hours=Number(a),this)},n.prototype.minutes=function(a){return 0===arguments.length?this._date.getMinutes():(("number"==typeof a||"string"==typeof a)&&!isNaN(Number(a))&&Number(a)>=this.constants().MIN_MINUTES&&Number(a)<=this.constants().MAX_MINUTES?(this._date.setMinutes(Number(a)),this._incorrect.minutes=!1):this._incorrect.minutes=Number(a),this)},n.prototype.seconds=function(a){return 0===arguments.length?this._date.getSeconds():(("number"==typeof a||"string"==typeof a)&&!isNaN(Number(a))&&Number(a)>=this.constants().MIN_SECONDS&&Number(a)<=this.constants().MAX_SECONDS?(this._date.setSeconds(Number(a)),this._incorrect.seconds=!1):this._incorrect.seconds=Number(a),this)},n.prototype.milliseconds=function(a){return 0===arguments.length?this._date.getMilliseconds():(("number"==typeof a||"string"==typeof a)&&!isNaN(Number(a))&&Number(a)>=this.constants().MIN_MILLISECONDS&&Number(a)<=this.constants().MAX_MILLISECONDS?(this._date.setMilliseconds(Number(a)),this._incorrect.milliseconds=!1):this._incorrect.milliseconds=Number(a),this)},n.prototype.now=function(){return this._date=new Date,this},n.prototype.timestamp=function(a){return 0!==arguments.length?(this.date(new Date(Number(a)*(j?1:1e3))),this):j?this._date.getTime():Math.floor(this._date.getTime()/1e3)},n.prototype.UTC=function(a){return 0!==arguments.length?(this.date(new Date(Number(a)*(j?1:1e3))),this):j?this._date.getTime()-6e4*this._date.getTimezoneOffset():Math.floor(this._date.getTime()/1e3)-60*this._date.getTimezoneOffset()},n.prototype.dayOfWeek=function(a){switch(a){case"long":return h[g].daysLongNames[this._date.getDay()];case"short":return h[g].daysShortNames[this._date.getDay()];default:return this._date.getDay()}},n.prototype.leapYear=function(){var a;return(a=this.year())!==b?l(a):b},n.prototype.noConflict=function(b){return a.TP=_TP,b===!0&&(a.Tempus=e),d},n.prototype.getVersion=function(){return f},n.prototype.monthNames=function(a){switch(a){case"long":return h[g].monthLongNames;default:return h[g].monthShortNames}},n.prototype.dayNames=function(a){switch(a){case"long":return h[g].dayLongNames;default:return h[g].dayShortNames}},n.prototype.between=function(a,c){var d=this.timestamp(),e=a.timestamp();switch(c){case"year":return Math.floor((e-d)/31556952);case"month":return Math.floor((e-d)/2629746);case"day":return Math.floor((e-d)/86400);case"hours":return Math.floor((e-d)/3600);case"minutes":return Math.floor((e-d)/60);case"seconds":return e-d;default:return b}},n.prototype.get=function(){return{year:this.year(),month:this.month(),day:this.day(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),dayOfWeek:this.dayOfWeek(),dayOfWeekShort:this.dayOfWeek("short"),dayOfWeekLong:this.dayOfWeek("long"),timestamp:this.timestamp(),UTC:this.UTC(),milliseconds:this.milliseconds()}},n.prototype.set=function(a){return a instanceof Date?(this._date=a,this):("object"==typeof a&&(this.year(a.year),this.month(Number(a.month)),this.day(Number(a.day)),this.hours(Number(a.hours)),this.minutes(Number(a.minutes)),this.seconds(Number(a.seconds)),this.milliseconds(Number(a.milliseconds))),this)},n.prototype.dayCount=function(){var a=this.month(),b=this.constants().MAX_DAY_IN_MONTHS[a-(k?0:1)];return this.leapYear()&&2===a&&(b+=1),b},n.prototype.format=function(a){for(var b,c=0,d="";c<a.length;)"%"===a.charAt(c)?"%"===a.charAt(c+1)?(c++,d+="%"):(b=a.charAt(c)+a.charAt(c+1),d+=i[b].format(this),c++):d+=a.charAt(c),c++;return d};var o=function(a,c){return c!==b?(a.year(c.year()||c.year),a.month(c.month()||c.month),a.day(c.day()||c.day),a.hours(c.hours()||c.hours),a.minutes(c.minutes()||c.minutes),a.seconds(c.seconds()||c.seconds),a.milliseconds(c.milliseconds()||c.milliseconds),a):b};n.prototype.parse=function(a,c,d){var e,f=[];if(a===b)return o(this,d);c===b&&(c=this.detectFormat(a));for(var g,h,j=[],k=0,l=0;k<c.length;){if("%"===c.charAt(k))if("%"===c.charAt(k+1))k++;else{g=c.charAt(k)+c.charAt(k+1),h=0;var m="";switch(i[g].type){case"number":for(;h<i[g].maxLength&&l+h<a.length&&!isNaN(Number(a.charAt(l+h)));)m+=a.charAt(l+h),h++;break;case"word":for(;h<i[g].maxLength&&l+h<a.length&&/^\w+$/.test(a.charAt(l+h));)m+=a.charAt(l+h),h++;break;case"string":for(;h<i[g].maxLength&&l+h<a.length;)m+=a.charAt(l+h),h++}if(h<i[g].minLength)return o(this,d);f.push(g),j.push(m),l+=--h,k++}else if(a.charAt(l)!==c.charAt(k))return o(this,d);k++,l++}var n,p={};for(e in f)f.hasOwnProperty(e)&&i.hasOwnProperty(f[e])&&(n=i[f[e]].parse(j[e]),p={year:n.year!=b?n.year:p.year,month:n.month!=b?n.month:p.month,day:n.day!=b?n.day:p.day,hours:n.hours!=b?n.hours:p.hours,minutes:n.minutes!=b?n.minutes:p.minutes,seconds:n.seconds!=b?n.seconds:p.seconds});return this.year(p.year),this.month(p.month),this.day(p.day),this.hours(p.hours),this.minutes(p.minutes),this.seconds(p.seconds),this};var p=function(a,b){var c,d="";return c=a.slice(b,b+1),""===c||isNaN(Number(c))||(d+="%H"),c=a.charAt(b+2),""!==c&&":"===c&&(d+=c),c=a.slice(b+3,b+4),""===c||isNaN(Number(c))||(d+="%M"),c=a.charAt(b+5),""!==c&&":"===c&&(d+=c),c=a.slice(b+6,b+7),""===c||isNaN(Number(c))||(d+="%S"),d},q=function(a,b){var c,d=[a.slice(b,b+1),a.charAt(b+2),a.slice(b+3,b+4),a.charAt(b+5),a.slice(b+6,b+9)];if(!isNaN(Number(d[0]))&&!isNaN(Number(d[2]))&&!isNaN(Number(d[4])))return"."===d[1]&&"."===d[3]?c="%d.%m.%Y":"-"===d[1]&&"-"===d[3]?c="%m-%d-%Y":"/"===d[1]&&"/"===d[3]&&(c="%m/%d/%Y"),c;var e=[a.slice(b,b+3),a.charAt(b+4),a.slice(b+5,b+6),a.charAt(b+7),a.slice(b+8,b+9)];return isNaN(Number(e[0]))||isNaN(Number(e[2]))||isNaN(Number(e[4]))?"":("-"===e[1]&&"-"===e[3]&&(c="%Y-%m-%d"),c)};n.prototype.detectFormat=function(a){var b,c,d;return b=q(a,0),""!==b&&(d=10),c=a.charAt(d),("T"===c||" "===c)&&(b+=c,d++),b+=p(a,d)},n.prototype.calc=function(a){return a.year!==b&&this._date.setFullYear(this._date.getFullYear()+a.year),a.month!==b&&this._date.setMonth(this._date.getMonth()+a.month),a.day!==b&&this._date.setDate(this._date.getDate()+a.day),a.hours!==b&&this._date.setHours(this._date.getHours()+a.hours),a.minutes!==b&&this._date.setMinutes(this._date.getMinutes()+a.minutes),a.seconds!==b&&this._date.setSeconds(this._date.getSeconds()+a.seconds),a.milliseconds!==b&&this._date.setMilliseconds(this._date.getMilliseconds()+a.milliseconds),this},n.prototype.options=function(){return{useMilliseconds:j,monthFromZero:k,lang:g}},n.prototype.asVanillaDate=function(){return new Date(this.year()!==b?this.year():1970,this.month()!==b?this.month()-(k?0:1):0,this.day()!==b?this.day():1,this.hours()!==b?this.hours():0,this.minutes()!==b?this.minutes():0,this.seconds()!==b?this.seconds():0,this.milliseconds()!==b?this.milliseconds():0)},n.prototype.asVanillaDateUTC=function(){return new Date(Date.UTC(this.year()!==b?this.year():1970,this.month()!==b?this.month()-(k?0:1):0,this.day()!==b?this.day():1,this.hours()!==b?this.hours():0,this.minutes()!==b?this.minutes():0,this.seconds()!==b?this.seconds():0,this.milliseconds()!==b?this.milliseconds():0))},n.prototype.lang=function(a){return a===b?g:(g=a,this)},n.prototype.iWantUseMilliseconds=function(a){return j=a!==!1,this},n.prototype.iLoveMonthFromZero=function(a){return k=a!==!1,this},n.prototype.registerFormat=function(a,b,c,d,e,f){i[a]={format:b,parse:c,minLength:d,maxLength:e,type:f}},n.prototype.unregisterFormat=function(a){delete i[a]},n.prototype.validate=function(){return this._incorrect.year===!1&&this._incorrect.month===!1&&this._incorrect.day===!1&&this._incorrect.hours===!1&&this._incorrect.minutes===!1&&this._incorrect.seconds===!1&&this._incorrect.milliseconds===!1},n.prototype.getErrors=function(){return this._incorrect},c.prototype.createDate=function(a,b){return new n(a,b)};var r=new c;d=function(a,b){return r.createDate(a,b)},a.tempus=d}(window);