/*! tempus 0.1.25 Kuznetsov Aleksey <me@akuzn.com> 2013-11-07 */
!function(){var a=function(){var a=this,b="0.1.25",c="en_US",d=[31,28,31,30,31,30,31,31,30,31,30,31],e={en_US:{monthShortNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthLongNames:["January","February","March","April","May","June","July","August","September","October","November","December"],daysShortNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysLongNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ru_RU:{monthShortNames:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],monthLongNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],daysShortNames:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],daysLongNames:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]}};this.time=function(a,b){return void 0!==a?("string"==typeof a&&(a=this.parse(a,b)),Math.floor(Date.UTC(void 0!==a.year?a.year:1970,void 0!==a.month?a.month-1:0,void 0!==a.day?a.day:1,void 0!==a.hours?a.hours:0,void 0!==a.minutes?a.minutes:0,void 0!==a.seconds?a.seconds:0)/1e3)):Math.floor(new Date((new Date).getTime()-6e4*(new Date).getTimezoneOffset())/1e3)},this.date=function(a){var b;if("number"==typeof a){var c=new Date(new Date(1e3*Number(a)).getTime()+6e4*new Date(1e3*Number(a)).getTimezoneOffset());b={year:c.getFullYear(),month:c.getMonth()+1,day:c.getDate(),hours:c.getHours(),minutes:c.getMinutes(),seconds:c.getSeconds()}}else"object"==typeof a&&(b={year:void 0!==a.year?a.year:1970,month:void 0!==a.month?a.month:1,day:void 0!==a.day?a.day:1,hours:void 0!==a.hours?a.hours:0,minutes:void 0!==a.minutes?a.minutes:0,seconds:void 0!==a.seconds?a.seconds:0});return b},this.now=function(a){var b=new Date,c={year:b.getFullYear(),month:b.getMonth()+1,day:b.getDate(),dayOfWeek:b.getDay(),hours:b.getHours(),minutes:b.getMinutes(),seconds:b.getSeconds(),timestamp:Math.floor(b.getTime()/1e3)};return void 0===a?c:this.format(c,a)},this.isLeapYear=function(a){return a=void 0!==a?Number(a):this.now().year,a%4==0?a%100==0?a%400==0:!0:!1},this.getDaysCountInMonth=function(a,b){var g=void 0===b?!1:this.isLeapYear(b);if("number"==typeof a)return 2===a?d[a-1]+(g?1:0):d[a-1];if("string"==typeof a){var h=f(e[c].monthShortNames,a);return-1===h&&(h=f(e[c].monthLongNames,a)),-1===h?void 0:(a=h,2===a?d[a-1]+(g?1:0):d[a-1])}return void 0},this.getMonthNames=function(a){return a===!0?e[c].monthLongNames:e[c].monthShortNames},this.getDayNames=function(a){return a===!0?e[c].daysLongNames:e[c].daysShortNames},this.getDayOfWeek=function(a){var b=a.year,c=a.month,d=a.day,e=[0,3,2,5,0,3,5,1,4,6,2,4];return b-=3>c,Math.floor((b+b/4-b/100+b/400+e[c-1]+d)%7)},this.incDate=function(a,b,c){if("object"!=typeof a)return void 0;var d=JSON.parse(JSON.stringify(a));return"seconds"===c&&(d.seconds+=Number(b)),"minutes"===c&&(d.minutes+=Number(b)),"hours"===c&&(d.hours+=Number(b)),"day"===c&&(d.day+=Number(b)),"month"===c&&(d.month+=Number(b)),"year"===c&&(d.year+=Number(b)),this.normalizeDate(d)},this.normalizeDate=function(a){return JSON.parse(JSON.stringify(this.date(this.time(a))))},this.decDate=function(a,b,c){if("object"!=typeof a)return void 0;var d=JSON.parse(JSON.stringify(a));return"seconds"===c&&(d.seconds-=Number(b)),"minutes"===c&&(d.minutes-=Number(b)),"hours"===c&&(d.hours-=Number(b)),"day"===c&&(d.day-=Number(b)),"month"===c&&(d.month-=Number(b)),"year"===c&&(d.year-=Number(b)),this.normalizeDate(d)},this.between=function(a,b,c){var d=this.time(a),e=this.time(b);switch(c){case"year":return Math.floor((e-d)/30481920);case"month":return Math.floor((e-d)/2540160);case"day":return Math.floor((e-d)/86400);case"hours":return Math.floor((e-d)/3600);case"minutes":return Math.floor((e-d)/60);case"seconds":return e-d;default:return void 0}},this.getDaysArrayByWeek=function(a,b){if("object"==typeof a)var c=this.getDayOfWeek(a.year,a.month,a.day);if("object"==typeof b)var d=this.getDayOfWeek(b.year,b.month,b.day);for(var e=JSON.parse(JSON.stringify(a)),f=[],g=0,h=this.between(a,b,"day"),i=0;h-h%7+(h%7>0?7:0)>i;)i%7===0&&(f.push([]),g=f.length-1),7>i&&c>i?(f[g].push(null),h++):i>h-1&&i>d?f[g].push(null):(f[g].push(e),e=this.incDate(e,1,"day")),i++;return f},this.format=function(a,b){var d,f=b;if("number"!=typeof a&&"object"!=typeof a)return void 0;d=this.date(a);var h=this.time(d),i=g(d.day,2),j=g(d.month,2),k=g(d.year,4),l=this.getDayOfWeek(a),m=e[c].daysShortNames[this.getDayOfWeek(a)],n=e[c].daysLongNames[this.getDayOfWeek(a)],o=e[c].monthShortNames[Number(j)-1],p=e[c].monthLongNames[Number(j)-1],q=g(d.hours,2),r=g(d.minutes,2),s=g(d.seconds,2);return f=f.replace("%d",i),f=f.replace("%m",j),f=f.replace("%Y",k),f=f.replace("%w",l),f=f.replace("%a",m),f=f.replace("%A",n),f=f.replace("%b",o),f=f.replace("%B",p),f=f.replace("%H",q),f=f.replace("%M",r),f=f.replace("%S",s),f=f.replace("%s",h),f=f.replace("%F",k+"-"+j+"-"+i),f=f.replace("%D",j+"/"+i+"/"+k)},this.parse=function(a,b){var c=b.match(/(%d|%m|%Y|%H|%M|%S|%s)/g),d=b.replace(/(%d|%m|%H|%M|%S)/g,"(\\d{2})");d=d.replace(/(%Y)/g,"(\\d{4})"),d=d.replace(/(%s)/g,"(\\d{1,10})");for(var e=new RegExp(d,"g"),f=e.exec(a),g=[],h=1;h<f.length;h++)"string"==typeof f[h]&&g.push(f[h]);var i=0,j=0,k=0,l=0,m=0,n=0,o=0;for(var p in c)if(c.hasOwnProperty(p))switch(c[p]){case"%d":i=Number(g[p]),i=isNaN(i)?0:i;break;case"%m":j=Number(g[p]),j=isNaN(j)?0:j;break;case"%Y":k=Number(g[p]),k=isNaN(k)?0:k;break;case"%H":l=Number(g[p]),l=isNaN(l)?0:l;break;case"%M":m=Number(g[p]),m=isNaN(m)?0:m;break;case"%S":n=Number(g[p]),n=isNaN(n)?0:n;break;case"%s":o=Number(g[p]),o=isNaN(o)?0:o}if(0!==o){var q=new Date(Number(1e3*o)),r=this.date(o);return this.incDate(r,q.getTimezoneOffset(),"minutes")}return{day:i,month:j,year:k,hours:l,minutes:m,seconds:n}},this.setTimeout=function(a,b){return setTimeout(a,1e3*Number(b))},this.setInterval=function(a,b){return setInterval(a,1e3*Number(b))},this.clock=function(b){return b(a.now()),this.setInterval(function(){b(a.now())},1)},this.alarm=function(b,c){var d=this.setInterval(function(){0===a.between(a.now(),b,"seconds")&&(c(b),clearInterval(d))},1);return d},this.validate=function(a,b){"string"==typeof a&&(a=this.parse(a,b));var c=this.normalizeDate(a);return a.year===c.year&&a.month===c.month&&a.day===c.day&&a.hours===c.hours&&a.minutes===c.minutes&&a.seconds===c.seconds},this.reformat=function(a,b,c){return this.format(this.parse(a,b),c)},this.setLocale=function(a){return c=a||"en_US"},this.getLocale=function(){return c},this.getAvailableLocales=function(){return Object.keys(e)},this.getVersion=function(){return b};var f=function(a,b){null==b?b=0:0>b&&(b=Math.max(0,this.length+b));for(var c=b,d=this.length;d>c;c++)if(this[c]===a)return c;return-1},g=function(a,b){for(var c=a.toString();c.length<b;)c="0"+c;return c}};window.tempus=new a}();