/*! tempus 0.1.31 Kuznetsov Aleksey <me@akuzn.com> 2013-11-15 */
!function(a,b){function c(){}var d,e=a.tp,f=a.tempus,g="0.2.0",h="en",i={en:{monthShortNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthLongNames:["January","February","March","April","May","June","July","August","September","October","November","December"],daysShortNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysLongNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ru:{monthShortNames:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],monthLongNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],daysShortNames:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],daysLongNames:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]}},j={"%d":{format:function(a){return o(a.day()||a.constants().MIN_DAY,2)},parse:function(a){var c=Number(a);return{day:isNaN(c)?b:c}},minLength:2,maxLength:2,type:"number"},"%m":{format:function(a){return o(a.month()||a.constants().MIN_MONTH,2)},parse:function(a){var c=Number(a);return{month:isNaN(c)?b:c}},minLength:2,maxLength:2,type:"number"},"%Y":{format:function(a){return o(a.year()||a.constants().MIN_YEAR,4)},parse:function(a){var c=Number(a);return{year:isNaN(c)?b:c}},minLength:3,maxLength:5,type:"number"},"%w":{format:function(a){return a.dayOfWeek()||a.constants().MIN_DAY_OF_WEEK},parse:function(){return{}},minLength:1,maxLength:1,type:"number"},"%a":{format:function(a){return i[h].daysShortNames[a.dayOfWeek()||a.constants().MIN_DAY_OF_WEEK]},parse:function(){return{}},minLength:1,maxLength:999,type:"word"},"%A":{format:function(a){return i[h].daysLongNames[a.dayOfWeek()||a.constants().MIN_DAY_OF_WEEK]},parse:function(){return{}},minLength:1,maxLength:999,type:"word"},"%b":{format:function(a){return i[h].monthShortNames[(a.month()||a.constants().MIN_MONTH)-(l?0:1)]},parse:function(a){var c=that.getMonthNames().indexOf(a)+1;return{month:-1!==c?c:b}},minLength:1,maxLength:999,type:"word"},"%B":{format:function(a){return i[h].monthLongNames[(a.month()||a.constants().MIN_MONTH)-(l?0:1)]},parse:function(a){var c=that.getMonthNames(!0).indexOf(a)+1;return{month:-1!==c?c:b}},minLength:1,maxLength:999,type:"word"},"%H":{format:function(a){return o(a.hours()||a.constants().MIN_HOURS,2)},parse:function(a){var c=Number(a);return{hours:isNaN(c)?b:c}},minLength:2,maxLength:2,type:"number"},"%M":{format:function(a){return o(a.minutes()||a.constants().MIN_MINUTES,2)},parse:function(a){var c=Number(a);return{minutes:isNaN(c)?b:c}},minLength:2,maxLength:2,type:"number"},"%S":{format:function(a){return o(a.seconds()||a.constants().MIN_SECONDS,2)},parse:function(a){var c=Number(a);return{seconds:isNaN(c)?b:c}},minLength:2,maxLength:2,type:"number"},"%s":{format:function(a){return a.timestamp()},parse:function(a){var b=Number(a),c=new p(Number(b),timezoneOffset),d=that.date(b);return isNaN(b)?{}:that.incDate(d,c.getTimezoneOffset(),"minutes")},minLength:1,maxLength:20,type:"number"},"%F":{format:function(a){return o(a.year()||a.constants().MIN_YEAR,4)+"-"+o(a.month()||a.constants().MIN_MONTH,2)+"-"+o(a.day()||a.constants().MIN_DAY,2)},parse:function(a){var b=Number(a.slice(0,4)),c=Number(a.slice(6,7)),d=Number(a.slice(9,10));return{year:b,month:c,day:d}},minLength:10,maxLength:10,type:"string"},"%D":{format:function(a){return o(a.month()||a.constants().MIN_MONTH,2)+"/"+o(a.day()||a.constants().MIN_DAY,2)+"/"+o(a.year()||a.constants().MIN_YEAR,4)},parse:function(a){var b=Number(a.slice(0,2)),c=Number(a.slice(3,5)),d=Number(a.slice(6,10));return{year:d,month:b,day:c}},minLength:10,maxLength:10,type:"string"}},k=!1,l=!1,m=function(a,b,c){var d=[0,3,2,5,0,3,5,1,4,6,2,4];return a-=3>b,Math.floor((a+a/4-a/100+a/400+d[b-1]+c)%7)},n=function(a){return a%4==0?a%100==0?a%400==0:!0:!1},o=function(a,b){for(var c=a.toString();c.length<b;)c="0"+c;return c},p=function(a,c){return this._year=b,this._month=b,this._day=b,this._hours=b,this._minutes=b,this._seconds=b,this._milliseconds=b,a===b?this.now():"object"==typeof a?this.set(a):"string"==typeof a&&this.parse(a,c),this};p.prototype.constants=function(){return{MIN_YEAR:100,MAX_YEAR:3e3,MIN_MONTH:l?0:1,MAX_MONTH:l?11:12,MIN_DAY:1,MAX_DAY_IN_MONTHS:[31,28,31,30,31,30,31,31,30,31,30,31],MIN_DAY_OF_WEEK:0,MAX_DAY_OF_WEEK:6,MIN_HOURS:0,MAX_HOURS:23,MIN_MINUTES:0,MAX_MINUTES:59,MIN_SECONDS:0,MAX_SECONDS:59,MIN_MILLISECONDS:0,MAX_MILLISECONDS:999}},p.prototype.year=function(a){return 0===arguments.length?this._year:(this._year="number"==typeof a||"string"==typeof a?Number(a):b,this)},p.prototype.month=function(a){return 0===arguments.length?this._month:(this._month="number"==typeof a||"string"==typeof a?Number(a):b,this)},p.prototype.day=function(a){return 0===arguments.length?this._day:(this._day="number"==typeof a||"string"==typeof a?Number(a):b,this)},p.prototype.hours=function(a){return 0===arguments.length?this._hours:(this._hours="number"==typeof a||"string"==typeof a?Number(a):b,this)},p.prototype.minutes=function(a){return 0===arguments.length?this._minutes:(this._minutes="number"==typeof a||"string"==typeof a?Number(a):b,this)},p.prototype.seconds=function(a){return 0===arguments.length?this._seconds:(this._seconds="number"==typeof a||"string"==typeof a?Number(a):b,this)},p.prototype.milliseconds=function(a){return 0===arguments.length?this._milliseconds:(this._milliseconds="number"==typeof a||"string"==typeof a?Number(a):b,this)},p.prototype.now=function(){var a=new Date;return this.year(a.getFullYear()),this.month(a.getMonth()+(l?0:1)),this.day(a.getDate()),this.hours(a.getHours()),this.minutes(a.getMinutes()),this.seconds(a.getSeconds()),this.milliseconds(a.getMilliseconds()),this},p.prototype.timestamp=function(a){if(0===arguments.length)return Math.floor(new Date(this.year()!==b?this.year():1970,this.month()!==b?this.month()-(l?0:1):0,this.day()!==b?this.day():1,this.hours()!==b?this.hours():0,this.minutes()!==b?this.minutes():0,this.seconds()!==b?this.seconds():0,this.milliseconds()!==b?this.milliseconds():0).getTime()/(k?1:1e3));var c=new Date(Number(a)*(k?1:1e3));return this.year(c.getFullYear()),this.month(c.getMonth()+(l?0:1)),this.day(c.getDate()),this.hours(c.getHours()),this.minutes(c.getMinutes()),this.seconds(c.getSeconds()),this.milliseconds(c.getMilliseconds()),this},p.prototype.UTC=function(a){if(0===arguments.length)return Math.floor(new Date(Date.UTC(this.year()!==b?this.year():1970,this.month()!==b?this.month()-(l?0:1):0,this.day()!==b?this.day():1,this.hours()!==b?this.hours():0,this.minutes()!==b?this.minutes():0,this.seconds()!==b?this.seconds():0,this.milliseconds()!==b?this.milliseconds():0)).getTime()/(k?1:1e3));var c=new Date(Number(a)*(k?1:1e3));return this.year(c.getUTCFullYear()),this.month(c.getUTCMonth()+(l?0:1)),this.day(c.getUTCDate()),this.hours(c.getUTCHours()),this.minutes(c.getUTCMinutes()),this.seconds(c.getUTCSeconds()),this.milliseconds(c.getUTCMilliseconds()),this},p.prototype.dayOfWeek=function(a){var c,d,e;if((c=this.year())!==b&&(d=this.month())!==b&&(e=this.day())!==b)switch(a){case"long":return i[h].daysLongNames[m(c,d,e)];case"short":return i[h].daysShortNames[m(c,d,e)];default:return m(c,d,e)}return b},p.prototype.leapYear=function(){var a;return(a=this.year())!==b?n(a):b},p.prototype.noConflict=function(b){return a.TP=e,b===!0&&(a.Tempus=f),d},p.prototype.getVersion=function(){return g},p.prototype.monthNames=function(a){switch(a){case"long":return i[h].monthLongNames;default:return i[h].monthShortNames}},p.prototype.dayNames=function(a){switch(a){case"long":return i[h].dayLongNames;default:return i[h].dayShortNames}},p.prototype.between=function(a,c){var d=this.timestamp(),e=a.timestamp();switch(c){case"year":return Math.floor((e-d)/31556952);case"month":return Math.floor((e-d)/2629746);case"day":return Math.floor((e-d)/86400);case"hours":return Math.floor((e-d)/3600);case"minutes":return Math.floor((e-d)/60);case"seconds":return e-d;default:return b}},p.prototype.get=function(){return{year:this.year(),month:this.month(),day:this.day(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),dayOfWeek:this.dayOfWeek(),dayOfWeekShort:this.dayOfWeek("short"),dayOfWeekLong:this.dayOfWeek("long"),timestamp:this.timestamp(),UTC:this.UTC(),milliseconds:this.milliseconds()}},p.prototype.set=function(a){return a instanceof Date?(this.year(a.getFullYear()),this.month(a.getMonth()+(l?0:1)),this.day(a.getDate()),this.hours(a.getHours()),this.minutes(a.getMinutes()),this.seconds(a.getSeconds()),this.milliseconds(a.getMilliseconds()),this):("object"==typeof a&&(a.year!==b&&a.year>=this.constants().MIN_YEAR&&a.year<=this.constants().MAX_YEAR?this.year(Number(a.year)):this.year(this.constants().MIN_YEAR),a.month!==b&&a.month>=this.constants().MIN_MONTH&&a.month<=this.constants().MAX_MONTH?this.month(Number(a.month)):this.month(this.constants().MIN_MONTH),a.day!==b&&a.day>=this.constants().MIN_DAY&&a.day<=this.dayCount()?this.day(Number(a.day)):this.day(this.constants().MIN_DAY),a.hours!==b&&a.hours>=this.constants().MIN_HOURS&&a.hours<=this.constants().MAX_HOURS?this.hours(Number(a.hours)):this.hours(this.constants().MIN_HOURS),a.minutes!==b&&a.minutes>=this.constants().MIN_MINUTES&&a.minutes<=this.constants().MAX_MINUTES?this.minutes(Number(a.minutes)):this.minutes(this.constants().MIN_MINUTES),a.seconds!==b&&a.seconds>=this.constants().MIN_SECONDS&&a.seconds<=this.constants().MAX_SECONDS?this.seconds(Number(a.seconds)):this.seconds(this.constants().MIN_SECONDS),a.milliseconds!==b&&a.milliseconds>=this.constants().MIN_MILLISECONDS&&a.milliseconds<=this.constants().MAX_MILLISECONDS?this.milliseconds(Number(a.milliseconds)):this.milliseconds(this.constants().MIN_MILLISECONDS)),this)},p.prototype.dayCount=function(){var a=this.month(),b=this.constants().MAX_DAY_IN_MONTHS[a-(l?0:1)];return this.leapYear()&&2===a&&(b+=1),b},p.prototype.format=function(a){var b=a;for(var c in j)j.hasOwnProperty(c)&&(b=b.replace(c,j[c].format(this)));return b};var q=function(a,c){return c!==b?(a.year(c.year()||c.year),a.month(c.month()||c.month),a.day(c.day()||c.day),a.hours(c.hours()||c.hours),a.minutes(c.minutes()||c.minutes),a.seconds(c.seconds()||c.seconds),a.milliseconds(c.milliseconds()||c.milliseconds),a):b};p.prototype.parse=function(a,c,d){var e,f=[];c===b&&(c=this.detectFormat(a));for(var g,h,i="",k=[],l=0,m=0;l<c.length;){if("%"===c.charAt(l)){g=c.charAt(l)+c.charAt(l+1),h=0;var n="";switch(j[g].type){case"number":for(;h<=j[g].maxLength&&!isNaN(Number(a.charAt(m+h)));)n+=a.charAt(m+h),h++;break;case"word":for(;h<=j[g].maxLength&&/^\w+$/.test(a.charAt(m+h));)n+=a.charAt(m+h),h++;break;case"string":for(;h<=j[g].maxLength;)n+=a.charAt(m+h),h++}if(h<j[g].minLength)return q(this,d);f.push(g),k.push(n),m+=--h,l++}else if(i+=c.charAt(l),a.charAt(m)!==c.charAt(l))return q(this,d);l++,m++}var o,p={};for(e in f)f.hasOwnProperty(e)&&j.hasOwnProperty(f[e])&&(o=j[f[e]].parse(k[e]),p={year:o.year!=b?o.year:p.year,month:o.month!=b?o.month:p.month,day:o.day!=b?o.day:p.day,hours:o.hours!=b?o.hours:p.hours,minutes:o.minutes!=b?o.minutes:p.minutes,seconds:o.seconds!=b?o.seconds:p.seconds});return this.year(p.year),this.month(p.month),this.day(p.day),this.hours(p.hours),this.minutes(p.minutes),this.seconds(p.seconds),this},p.prototype.detectFormat=function(a){for(var c=["%d.%m.%Y","%Y-%m-%d","%m/%d/%Y","%Y-%m-%dT%H:%M:%S","%d.%m.%Y %H:%M:%S","%d.%m.%Y %H:%M","%d.%m.%Y %H","%Y-%m-%d %H:%M:%S","%Y-%m-%d %H:%M","%Y-%m-%d %H","%m/%d/%Y %H:%M:%S","%m/%d/%Y %H:%M","%m/%d/%Y %H","%Y","%H:%M:%S","%H:%M"],d=0;d<c.length;d++)if(this.parse(a,c[d])!==b)return c[d];return b},p.prototype.calc=function(a){var b=new Date(this.year()+(a.year||0),this.month()+(a.month||0)-(l?0:1),this.day()+(a.day||0),this.hours()+(a.hours||0),this.minutes()+(a.minutes||0),this.seconds()+(a.seconds||0),this.milliseconds()+(a.milliseconds||0));return this.year(b.getFullYear()).month(b.getMonth()+(l?0:1)).day(b.getDate()).hours(b.getHours()).minutes(b.getMinutes()).seconds(b.getSeconds()).milliseconds(b.getMilliseconds())},p.prototype.options=function(){return{useMilliseconds:k,monthFromZero:l,lang:h}},p.prototype.asVanillaDate=function(){return new Date(this.year()!==b?this.year():1970,this.month()!==b?this.month()-(l?0:1):0,this.day()!==b?this.day():1,this.hours()!==b?this.hours():0,this.minutes()!==b?this.minutes():0,this.seconds()!==b?this.seconds():0,this.milliseconds()!==b?this.milliseconds():0)},p.prototype.asVanillaDateUTC=function(){return new Date(Date.UTC(this.year()!==b?this.year():1970,this.month()!==b?this.month()-(l?0:1):0,this.day()!==b?this.day():1,this.hours()!==b?this.hours():0,this.minutes()!==b?this.minutes():0,this.seconds()!==b?this.seconds():0,this.milliseconds()!==b?this.milliseconds():0))},p.prototype.lang=function(a){return a===b?h:(h=a,this)},p.prototype.iWantUseMilliseconds=function(a){return k=a!==!1,this},p.prototype.iLoveMonthFromZero=function(a){return l=a!==!1,this},c.prototype.createDate=function(a,b){return new p(a,b)};var r=new c;d=function(a,b){return r.createDate(a,b)},a.tp=a.tempus=d}(window);